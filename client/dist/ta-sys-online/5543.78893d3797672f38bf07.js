(self.webpackChunkta_sys_online=self.webpackChunkta_sys_online||[]).push([[5543],{41582:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var i=s(42693),o=s(49783);let a=(()=>{class e{constructor(e){this.http=e,this.apiDiseaseUrl="https://ng-health-care-demo.herokuapp.com/diseases"}fetchDisease(e,t){const s=(new i.LE).set("page",e).set("size",t);return console.log(s.toString()),this.http.get(this.apiDiseaseUrl,{params:s,reportProgress:!0,observe:"body"})}searchDiseaseByName(e,t,s){const o=(new i.LE).set("value",e).set("page",t).set("size",s);return console.log(o.toString()),this.http.post(this.apiDiseaseUrl+"/searchByName",{},{params:o,reportProgress:!0,observe:"body"})}filterDiseaseByPrice(e,t,s,o){const a=(new i.LE).set("criteria",e).set("value",t).set("page",s).set("size",o);return console.log(a.toString()),this.http.post(this.apiDiseaseUrl,{},{params:a,reportProgress:!0,observe:"body"})}filterDiseaseByCategory(e,t,s){const o=(new i.LE).set("value",e).set("page",t).set("size",s);return console.log(o.toString()),this.http.post(this.apiDiseaseUrl+"/filterByCategory",{},{params:o,reportProgress:!0,observe:"body"})}sortDiseaseByName(e,t,s){const o=(new i.LE).set("value",e).set("page",t).set("size",s);return console.log(o.toString()),this.http.post(this.apiDiseaseUrl+"/sortByName",{},{params:o,reportProgress:!0,observe:"body"})}sortDiseaseByPrice(e,t,s){const o=(new i.LE).set("value",e).set("page",t).set("size",s);return console.log(o.toString()),this.http.post(this.apiDiseaseUrl+"/sortByPrice",{},{params:o,reportProgress:!0,observe:"body"})}uploadDisease(e){return this.http.post(this.apiDiseaseUrl,e,{reportProgress:!0,observe:"body"})}generateRandomDisease(){return this.http.post(this.apiDiseaseUrl+"/randomDisease",{reportProgress:!0,observe:"body"})}deleteAllDiseases(){return this.http.post(this.apiDiseaseUrl+"/deleteAll",{reportProgress:!0,observe:"body"})}deleteDisease(e){return this.http.delete(this.apiDiseaseUrl+`/${e}`,{reportProgress:!0,observe:"body"})}getDisease(e){return this.http.get(this.apiDiseaseUrl+`/${e}`,{reportProgress:!0,observe:"body"})}deleteSelectedDiseases(e){return this.http.post(this.apiDiseaseUrl+"/batch",e,{reportProgress:!0,observe:"body"})}updateDisease(e,t){return this.http.post(this.apiDiseaseUrl+`/updateDisease/${t}`,e,{reportProgress:!0,observe:"body"})}fetchAll(){return this.http.post(this.apiDiseaseUrl+"/fetchAll",{},{reportProgress:!0,observe:"body"})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(i.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},85543:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var i=s(79996),o=s(61305),a=s(41142),r=s(49783),l=s(41582),h=s(60310);const n={diseaseList:[],selectedDisease:{},exportData:[],totalPages:0,currentPage:0,totalItems:0,responseMsg:""};let g=(()=>{class e extends o.b{constructor(e,t){super(n),this.diseaseService=e,this.store=t,this.$diseaseList=this.select(e=>e.diseaseList),this.$exportData=this.select(e=>e.exportData),this.$totalPages=this.select(e=>e.totalPages),this.$totalItems=this.select(e=>e.totalItems),this.$currentPage=this.select(e=>e.currentPage),this.$selectedDisease=this.select(e=>e.selectedDisease)}fillEmpty(e,t,s,i){let o=s,a=e*t;for(var r=0;r<i.length;r++)o[a]=i[r],a++;return console.log("Filled array result"),console.log(o),o}initData(e,t){this.diseaseService.fetchDisease(e,t).toPromise().then(e=>{this.setState({diseaseList:new Array(e.totalItems)}),console.log("Current flag: pure list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.loadDataAsync(e,t)})}initInfiniteData(e,t){return this.diseaseService.fetchDisease(e,t).toPromise().then(e=>{this.setState({diseaseList:new Array(e.items.length)}),console.log("Current flag: infite list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.loadDataAsync(e,t)})}loadInfiniteDataAsync(e,t){this.setIsLoading(!0),this.diseaseService.fetchDisease(e,t).subscribe({next:e=>{this.setState({diseaseList:this.state.diseaseList.concat(e.items)}),console.log("Infinite list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}initFilterByCategoryData(e,t,s){this.store.showNotif("Filtered Mode On","custom"),this.diseaseService.filterDiseaseByCategory(e,0,5).toPromise().then(e=>{this.setState({diseaseList:new Array(e.totalItems)}),console.log("Current flag: filtered list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.filterDiseaseByCategory(e,t,s)})}initInfiniteFilterByCategoryData(e,t,s){this.store.showNotif("Filtered Mode On","custom"),this.diseaseService.filterDiseaseByCategory(e,t,s).toPromise().then(e=>{this.setState({diseaseList:new Array(e.items.length)}),console.log("Current flag: infinite filtered list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.filterDiseaseByCategory(e,t,s)})}initSearchByNameData(e,t,s){this.store.showNotif("Searched Mode On","custom"),this.diseaseService.searchDiseaseByName(e,0,5).toPromise().then(e=>{this.setState({diseaseList:new Array(e.totalItems)}),console.log("Current flag: searched list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.searchDiseaseByName(e,t,s)})}initInfiniteSearchByNameData(e,t,s){this.store.showNotif("Searched Mode On","custom"),this.diseaseService.searchDiseaseByName(e,t,s).toPromise().then(e=>{0!==e.totalItems?this.setState({diseaseList:new Array(e.items.length)}):this.store.showNotif("No result found!","custom"),console.log("Current flag: infitite searched list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.searchDiseaseByName(e,t,s)})}initSortByPriceData(e,t,s){this.store.showNotif("Sort Mode On","custom"),this.diseaseService.sortDiseaseByPrice(e,0,5).toPromise().then(e=>{this.setState({diseaseList:new Array(e.totalItems)}),console.log("Current flag: sort list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.sortDiseaseByPrice(e,t,s)})}initSortByName(e,t,s){this.store.showNotif("Sort Mode On","custom"),this.diseaseService.sortDiseaseByName(e,0,5).toPromise().then(e=>{this.setState({diseaseList:new Array(e.totalItems)}),console.log("Current flag: sort list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.sortDiseaseByName(e,t,s)})}initInfiniteSortByPriceData(e,t,s){this.store.showNotif("Sort Mode On","custom"),this.diseaseService.sortDiseaseByPrice(e,t,s).toPromise().then(e=>{this.setState({diseaseList:new Array(e.items.length)}),console.log("Current flag: sort list"),console.log(this.state.diseaseList),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage})}).then(()=>{this.sortDiseaseByPrice(e,t,s)})}loadDataAsync(e,t){this.setIsLoading(!0),this.diseaseService.fetchDisease(e,t).subscribe({next:s=>{this.setState({diseaseList:this.fillEmpty(e,t,this.state.diseaseList,s.items)}),console.log("Pure list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(s),this.setState({totalItems:s.totalItems}),this.setState({totalPages:s.totalPages}),this.setState({currentPage:s.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}refresh(e,t){this.setIsLoading(!0),this.diseaseService.fetchDisease(e,t).subscribe({next:s=>{this.setState({diseaseList:this.fillEmpty(e,t,this.state.diseaseList,s.items)}),this.setState({totalItems:s.totalItems}),this.setState({totalPages:s.totalPages}),this.setState({currentPage:s.currentPage}),console.log("Pure list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(s),this.store.showNotif("Refresh successfully","custom"),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}setIsLoading(e){this.store.setIsLoading(e)}uploadDisease(e,t,s){this.confirmDialog("").then(i=>{i&&(this.setIsLoading(!0),this.diseaseService.uploadDisease(e).subscribe({next:e=>{this.setState({responseMsg:e}),this.setTotalItems(this.state.totalItems+1),console.log(e),this.loadDataAsync(t,s),this.setIsLoading(!1),this.store.showNotif(e.message,"custom")},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}}))})}updateDisease(e,t,s,i){this.confirmDialog("").then(o=>{o&&(this.setIsLoading(!0),this.diseaseService.updateDisease(e,t).subscribe({next:e=>{this.setState({responseMsg:e}),console.log(e),this.loadDataAsync(s,i),this.setIsLoading(!1),this.store.showNotif(e.message,"custom")},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}}))})}confirmDialog(e){return(0,a.iG)(""!=e?`<b>${e}</b>`:"<b>Are you sure?</b>","Confirm changes")}deleteSelectedDiseases(e,t,s){this.confirmDialog("").then(i=>{i&&(this.setIsLoading(!0),this.diseaseService.deleteSelectedDiseases(e).subscribe({next:e=>{this.setState({responseMsg:e}),console.log(e),this.loadDataAsync(t,s),console.log(this.state.diseaseList),this.setIsLoading(!1),this.store.showNotif(e.message,"custom")},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}}))})}deleteAllDiseases(){this.confirmDialog("Delete all items?").then(e=>{e&&(this.setIsLoading(!0),this.diseaseService.deleteAllDiseases().subscribe({next:e=>{this.setState({responseMsg:e}),this.setState({diseaseList:[]}),this.setState({totalPages:0}),this.setState({currentPage:0}),this.setState({totalItems:0}),console.log(e),this.setIsLoading(!1),this.store.showNotif(e.message,"custom")},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}}))})}deleteDisease(e,t,s){this.confirmDialog("").then(i=>{i&&(this.setIsLoading(!0),this.diseaseService.deleteDisease(e).subscribe({next:e=>{this.setState({responseMsg:e}),this.setTotalItems(this.state.totalItems-1),console.log(e),this.loadDataAsync(t,s),this.setIsLoading(!1),this.store.showNotif(e.message,"custom")},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}}))})}selectDisease(e){this.setState({selectedDisease:e})}setTotalPages(e){this.setState({totalPages:e})}setTotalItems(e){this.setState({totalItems:e})}setCurrentPage(e){this.setState({currentPage:e})}getDisease(e){return this.$diseaseList.pipe((0,i.U)(t=>t.find(t=>t._id===e)))}filterDiseaseByPrice(e,t,s,i){this.setIsLoading(!0),this.diseaseService.filterDiseaseByPrice(e,t,s,i).subscribe({next:e=>{this.setState({responseMsg:e}),this.setState({diseaseList:this.fillEmpty(s,i,this.state.diseaseList,e.items)}),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}filterDiseaseByCategory(e,t,s){this.setIsLoading(!0),this.diseaseService.filterDiseaseByCategory(e,t,s).subscribe({next:e=>{this.setState({diseaseList:this.fillEmpty(t,s,this.state.diseaseList,e.items)}),console.log("Filtered list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}filterInfiniteDiseaseByCategory(e,t,s){this.setIsLoading(!0),this.diseaseService.filterDiseaseByCategory(e,t,s).subscribe({next:e=>{this.setState({diseaseList:this.state.diseaseList.concat(e.items)}),console.log("Filtered list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}searchDiseaseByName(e,t,s){this.setIsLoading(!0),this.diseaseService.searchDiseaseByName(e,t,s).subscribe({next:e=>{this.setState({diseaseList:this.fillEmpty(t,s,this.state.diseaseList,e.items)}),console.log("Searched list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}searchInfiniteDiseaseByName(e,t,s){this.setIsLoading(!0),this.diseaseService.searchDiseaseByName(e,t,s).subscribe({next:e=>{0!==e.totalItems?this.setState({diseaseList:this.state.diseaseList.concat(e.items)}):this.store.showNotif("No result found!","custome"),console.log("Infite searched list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}sortDiseaseByName(e,t,s){this.setIsLoading(!0),this.diseaseService.sortDiseaseByName(e,t,s).subscribe({next:e=>{this.setState({responseMsg:e}),this.setState({diseaseList:this.fillEmpty(t,s,this.state.diseaseList,e.items)}),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),console.log("Sorted list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}sortDiseaseByPrice(e,t,s){this.setIsLoading(!0),this.diseaseService.sortDiseaseByPrice(e,t,s).subscribe({next:e=>{this.setState({responseMsg:e}),this.setState({diseaseList:this.fillEmpty(t,s,this.state.diseaseList,e.items)}),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),console.log("Sorted list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}sortInfiniteDiseaseByPrice(e,t,s){this.setIsLoading(!0),this.diseaseService.sortDiseaseByPrice(e,t,s).subscribe({next:e=>{this.setState({diseaseList:this.state.diseaseList.concat(e.items)}),console.log("Infite sorted list"),console.log(this.state.diseaseList),console.log("Server response"),console.log(e),this.setState({totalItems:e.totalItems}),this.setState({totalPages:e.totalPages}),this.setState({currentPage:e.currentPage}),this.setIsLoading(!1)},error:e=>{this.setIsLoading(!1),this.store.showNotif(e.error.errorMessage,"error"),console.log(e)}})}setExportData(e){this.setState({diseaseList:e})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l.x),r.LFG(h.d))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);