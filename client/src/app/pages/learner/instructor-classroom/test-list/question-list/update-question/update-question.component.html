<dx-popup
  id="update-popup"
  [title]="title"
  [showTitle]="true"
  [shading]="true"
  [position]="'center'"
  [showCloseButton]="true"
  [dragEnabled]="false"
  [height]="'95%'"
  (onHiding)="closePopupUpdate()"
  [width]="'95%'"
  [visible]="isVisible"
>
  <div *dxTemplate="let data of 'content'">
    <div class="card-body">
      <div class="test-content">
        <dx-scroll-view
          [showScrollbar]="true"
          [scrollByContent]="true"
          [scrollByThumb]="true"
          [height]="'100%'"
        >
          <div class="container">
            <form
              id="update-question-form"
              (submit)="onSubmit($event)"
              [classList]="['questionForm']"
            >
              <dx-form
                [formData]="questionData"
                [showValidationSummary]="true"
                validationGroup="questionUpdateData"
              >
                <dxi-item itemType="group">
                  <dxi-item itemType="group">
                    <dxi-item
                      dataField="score"
                      [label]="{ text: 'Score' }"
                      editorType="dxNumberBox"
                    >
                      <dxi-validation-rule
                        type="required"
                        message="Score is required"
                      >
                      </dxi-validation-rule>
                      <dxi-validation-rule
                        type="range"
                        message="Score cannot be smaller than 1!"
                        [min]="1"
                      >
                      </dxi-validation-rule>
                    </dxi-item>
                    <dxi-item name="content">
                      <dxo-label text="Content"></dxo-label>
                      <div *dxTemplate>
                        <div class="responsive-field">
                          <!-- height="320px" -->
                          <dx-html-editor
                            [value]="questionData?.content"
                            (onValueChanged)="onEditorValueChanged($event)"
                          >
                            <dxo-toolbar [multiline]="isMultiline">
                              <dxi-item name="undo"></dxi-item>
                              <dxi-item name="redo"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item
                                name="size"
                                [acceptedValues]="[
                                  '8pt',
                                  '10pt',
                                  '12pt',
                                  '14pt',
                                  '18pt',
                                  '24pt',
                                  '36pt'
                                ]"
                              ></dxi-item>
                              <dxi-item
                                name="font"
                                [acceptedValues]="[
                                  'Arial',
                                  'Courier New',
                                  'Georgia',
                                  'Impact',
                                  'Lucida Console',
                                  'Tahoma',
                                  'Times New Roman',
                                  'Verdana'
                                ]"
                              ></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="bold"></dxi-item>
                              <dxi-item name="italic"></dxi-item>
                              <dxi-item name="strike"></dxi-item>
                              <dxi-item name="underline"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="alignLeft"></dxi-item>
                              <dxi-item name="alignCenter"></dxi-item>
                              <dxi-item name="alignRight"></dxi-item>
                              <dxi-item name="alignJustify"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="orderedList"></dxi-item>
                              <dxi-item name="bulletList"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item
                                name="header"
                                [acceptedValues]="[false, 1, 2, 3, 4, 5]"
                              ></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="color"></dxi-item>
                              <dxi-item name="background"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="link"></dxi-item>
                              <dxi-item name="image"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="clear"></dxi-item>
                              <dxi-item name="codeBlock"></dxi-item>
                              <dxi-item name="blockquote"></dxi-item>
                              <dxi-item name="separator"></dxi-item>
                              <dxi-item name="insertTable"></dxi-item>
                              <dxi-item name="deleteTable"></dxi-item>
                              <dxi-item name="insertRowAbove"></dxi-item>
                              <dxi-item name="insertRowBelow"></dxi-item>
                              <dxi-item name="deleteRow"></dxi-item>
                              <dxi-item name="insertColumnLeft"></dxi-item>
                              <dxi-item name="insertColumnRight"></dxi-item>
                              <dxi-item name="deleteColumn"></dxi-item>
                            </dxo-toolbar>
                            <dxo-media-resizing [enabled]="true">
                            </dxo-media-resizing>
                          </dx-html-editor>
                        </div>
                      </div>
                    </dxi-item>
                    <dxi-item
                      itemType="group"
                      [colCount]="2"
                      [cssClass]="'buttonGroup'"
                    >
                      <dxi-item
                        itemType="button"
                        horizontalAlignment="center"
                        [buttonOptions]="submitButtonOptions"
                      >
                      </dxi-item>
                      <dxi-item
                        itemType="button"
                        horizontalAlignment="center"
                        [buttonOptions]="resetButtonOptions"
                      >
                      </dxi-item>
                    </dxi-item>
                  </dxi-item>
                </dxi-item>
              </dx-form>
            </form>
          </div>
        </dx-scroll-view>
      </div>
      <div class="test-question" *ngIf="questionData">
        <app-answer-list [questionId]="questionData?.id"></app-answer-list>
      </div>
    </div>
  </div>
</dx-popup>
