<div class="answer-input">
  <div class="avatar">
    <div class="user-name">Answer List</div>
  </div>
  <div class="button-group">
    <dx-button
      icon="plus"
      hint="Click to add answer"
      type="danger"
      (onClick)="uploadAnswer()"
    ></dx-button>
    <dx-button
      icon="refresh"
      hint="Click to refresh answer list"
      type="danger"
      (onClick)="refresh()"
    ></dx-button>
  </div>
</div>
<div class="answer-count" *ngIf="answerCount == 0">
  No answer added yet. Please insert a new one.
</div>
<ng-container *ngIf="answerList.length">
  <div class="answer-count" *ngIf="answerCount !== 0">
    Showing {{ answerCount }} answers
  </div>
  <dx-scroll-view
    [direction]="'vertical'"
    [showScrollbar]="true"
    [scrollByContent]="true"
    [scrollByThumb]="true"
    [height]="'100%'"
  >
    <div class="answer-body" *ngFor="let item of answerList; index as i">
      <div class="avatar">
        <img
          [src]="mapFileListToUrl(item?.id)"
          alt="..."
          style="height: 55px; width: 45px; border-radius: 45px"
        />
        <div class="user-name">{{ i + 1 }}</div>
        <div class="post-date">
          {{ item?.isCorrect ? "Correct" : "Incorrect" }}
        </div>
      </div>
      <div class="answer-content">
        <dx-html-editor
          readOnly="true"
          [value]="item?.content"
          [width]="'100%'"
          [height]="'200px'"
        >
          <dxo-media-resizing [enabled]="true"> </dxo-media-resizing>
        </dx-html-editor>
      </div>
      <div class="button-group">
        <dx-button
          icon="edit"
          hint="Click to edit answer"
          type="danger"
          (onClick)="updateAnswer(item)"
        ></dx-button>
        <dx-button
          icon="trash"
          hint="Click to delete answer"
          type="danger"
          (onClick)="deleteAnswer(item)"
        ></dx-button>
      </div>
    </div>
  </dx-scroll-view>
</ng-container>

<app-upload-answer
  [closePopupUpload]="closePopupUpload"
  [questionId]="questionId"
  [title]="'Upload Answer Editor'"
  [isVisible]="isUploadPopupVisible"
></app-upload-answer>

<ng-container *ngIf="currentUpdatedAnswer">
  <app-update-answer
    [closePopupUpdate]="closePopupUpdate"
    [answer]="currentUpdatedAnswer"
    [title]="'Update Answer Editor'"
    [isVisible]="isUpdatePopupVisible"
  ></app-update-answer>
</ng-container>
