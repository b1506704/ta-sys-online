<dx-popup
  id="upload-popup"
  [title]="title"
  [showTitle]="true"
  [shading]="true"
  [position]="'center'"
  [showCloseButton]="true"
  [dragEnabled]="false"
  [height]="'95%'"
  (onHiding)="closePopupUpload()"
  [width]="'95%'"
  [visible]="isVisible"
>
  <div *dxTemplate="let data of 'content'">
    <dx-scroll-view
      [direction]="'vertical'"
      [showScrollbar]="true"
      [scrollByContent]="true"
      [scrollByThumb]="true"
      [bounceEnabled]="false"
      [height]="'92%'"
      [width]="'100%'"
    >
      <div class="container">
        <form
          id="upload-test-form"
          (submit)="onSubmit($event)"
          [classList]="['testForm']"
        >
          <dx-form
            [formData]="testData"
            [showValidationSummary]="true"
            validationGroup="testUploadData"
          >
            <dxi-item itemType="group">
              <dxi-item itemType="group">
                <dxi-item
                  dataField="name"
                  [label]="{ text: 'Name' }"
                  editorType="dxTextBox"
                >
                  <dxi-validation-rule
                    type="required"
                    message="Name is required"
                  >
                  </dxi-validation-rule>
                  <dxi-validation-rule
                    type="stringLength"
                    message="Name cannot lower than 10 letter!"
                    [min]="10"
                  >
                  </dxi-validation-rule>
                </dxi-item>
                <dxi-item
                  dataField="allocatedTime"
                  [label]="{ text: 'Allocated Time' }"
                  editorType="dxNumberBox"
                >
                  <dxi-validation-rule
                    type="required"
                    message="Allocated time is required"
                  >
                  </dxi-validation-rule>
                  <dxi-validation-rule
                    type="range"
                    message="Allocated time cannot smaller than 1!"
                    [min]="1"
                  >
                  </dxi-validation-rule>
                </dxi-item>
                <dxi-item
                  dataField="maxAttempt"
                  [label]="{ text: 'Max Attempt' }"
                  editorType="dxNumberBox"
                >
                  <dxi-validation-rule
                    type="required"
                    message="Max attempt is required"
                  >
                  </dxi-validation-rule>
                  <dxi-validation-rule
                    type="range"
                    message="Max attempt cannot smaller than 1!"
                    [min]="1"
                  >
                  </dxi-validation-rule>
                </dxi-item>
                <dxi-item
                  dataField="maxScore"
                  [label]="{ text: 'Max Score' }"
                  editorType="dxNumberBox"
                >
                  <dxi-validation-rule
                    type="required"
                    message="Max score is required"
                  >
                  </dxi-validation-rule>
                  <dxi-validation-rule
                    type="range"
                    message="Max score cannot smaller than 1!"
                    [min]="1"
                  >
                  </dxi-validation-rule>
                </dxi-item>
                <dxi-item
                  dataField="maxQuestion"
                  [label]="{ text: 'Max Question' }"
                  editorType="dxNumberBox"
                >
                  <dxi-validation-rule
                    type="required"
                    message="Max question is required"
                  >
                  </dxi-validation-rule>
                  <dxi-validation-rule
                    type="range"
                    message="Max question cannot smaller than 1!"
                    [min]="1"
                  >
                  </dxi-validation-rule>
                </dxi-item>
                <dxi-item
                  dataField="deadline"
                  [label]="{ text: 'Deadline' }"
                  editorType="dxDateBox"
                >
                  <dxi-validation-rule
                    type="required"
                    message="Deadline is required"
                  >
                  </dxi-validation-rule>
                </dxi-item>
                <dxi-item name="description">
                  <dxo-label text="Description"></dxo-label>
                  <div *dxTemplate>
                    <div class="responsive-field">
                      <dx-html-editor
                        height="320px"
                        [value]="testData?.description"
                        (onValueChanged)="onEditorValueChanged($event)"
                      >
                        <dxo-toolbar [multiline]="isMultiline">
                          <dxi-item name="undo"></dxi-item>
                          <dxi-item name="redo"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item
                            name="size"
                            [acceptedValues]="[
                              '8pt',
                              '10pt',
                              '12pt',
                              '14pt',
                              '18pt',
                              '24pt',
                              '36pt'
                            ]"
                          ></dxi-item>
                          <dxi-item
                            name="font"
                            [acceptedValues]="[
                              'Arial',
                              'Courier New',
                              'Georgia',
                              'Impact',
                              'Lucida Console',
                              'Tahoma',
                              'Times New Roman',
                              'Verdana'
                            ]"
                          ></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="bold"></dxi-item>
                          <dxi-item name="italic"></dxi-item>
                          <dxi-item name="strike"></dxi-item>
                          <dxi-item name="underline"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="alignLeft"></dxi-item>
                          <dxi-item name="alignCenter"></dxi-item>
                          <dxi-item name="alignRight"></dxi-item>
                          <dxi-item name="alignJustify"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="orderedList"></dxi-item>
                          <dxi-item name="bulletList"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item
                            name="header"
                            [acceptedValues]="[false, 1, 2, 3, 4, 5]"
                          ></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="color"></dxi-item>
                          <dxi-item name="background"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="link"></dxi-item>
                          <dxi-item name="image"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="clear"></dxi-item>
                          <dxi-item name="codeBlock"></dxi-item>
                          <dxi-item name="blockquote"></dxi-item>
                          <dxi-item name="separator"></dxi-item>
                          <dxi-item name="insertTable"></dxi-item>
                          <dxi-item name="deleteTable"></dxi-item>
                          <dxi-item name="insertRowAbove"></dxi-item>
                          <dxi-item name="insertRowBelow"></dxi-item>
                          <dxi-item name="deleteRow"></dxi-item>
                          <dxi-item name="insertColumnLeft"></dxi-item>
                          <dxi-item name="insertColumnRight"></dxi-item>
                          <dxi-item name="deleteColumn"></dxi-item>
                        </dxo-toolbar>
                        <dxo-media-resizing [enabled]="true">
                        </dxo-media-resizing>
                      </dx-html-editor>
                    </div>
                  </div>
                </dxi-item>
                <dxi-item
                  itemType="group"
                  [colCount]="2"
                  [cssClass]="'buttonGroup'"
                >
                  <dxi-item
                    itemType="button"
                    horizontalAlignment="center"
                    [buttonOptions]="submitButtonOptions"
                  >
                  </dxi-item>
                  <dxi-item
                    itemType="button"
                    horizontalAlignment="center"
                    [buttonOptions]="resetButtonOptions"
                  >
                  </dxi-item>
                </dxi-item>
              </dxi-item>
            </dxi-item>
          </dx-form>
        </form>
      </div>
    </dx-scroll-view>
  </div>
</dx-popup>
